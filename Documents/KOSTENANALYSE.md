# 💰 Kostenanalyse Xionimus AI - API Anfragen

## 📊 Aktuelle Konfiguration

**Integrierte AI Provider:**
1. **OpenAI** (GPT-4o, GPT-4.1, O1, O3)
2. **Anthropic** (Claude Sonnet 4.5)
3. **Perplexity** (Sonar Pro, Sonar, Sonar Deep Research)

---

## 💵 KOSTENVERGLEICH PRO 1 MILLION TOKENS

### 🔴 **AKTUELLE MODELLE (TEUER)**

#### **OpenAI GPT-4o**
- Input: **$2.50** pro 1M Tokens
- Output: **$10.00** pro 1M Tokens
- **Durchschnitt:** ~$6.25 pro 1M Tokens
- ❌ **SEHR TEUER**

#### **OpenAI GPT-4.1**
- Input: **$2.50** pro 1M Tokens
- Output: **$10.00** pro 1M Tokens
- **Durchschnitt:** ~$6.25 pro 1M Tokens
- ❌ **SEHR TEUER**

#### **OpenAI O1 / O3** (Reasoning Models)
- Input: **$15.00** pro 1M Tokens
- Output: **$60.00** pro 1M Tokens
- **Durchschnitt:** ~$37.50 pro 1M Tokens
- ❌ **EXTREM TEUER** + Content API Problem

#### **Anthropic Claude Sonnet 4.5**
- Input: **$3.00** pro 1M Tokens
- Output: **$15.00** pro 1M Tokens
- **Durchschnitt:** ~$9.00 pro 1M Tokens
- ❌ **SEHR TEUER**

#### **Perplexity Sonar Pro**
- Input: **$3.00** pro 1M Tokens
- Output: **$15.00** pro 1M Tokens
- **Durchschnitt:** ~$9.00 pro 1M Tokens
- ❌ **TEUER**

---

### 🟢 **GÜNSTIGE ALTERNATIVEN**

#### **OpenAI GPT-4o-mini** ⭐ EMPFOHLEN
- Input: **$0.15** pro 1M Tokens
- Output: **$0.60** pro 1M Tokens
- **Durchschnitt:** ~$0.38 pro 1M Tokens
- ✅ **16x GÜNSTIGER als GPT-4o**
- ✅ Sehr gute Qualität für die meisten Aufgaben
- ✅ Schnelle Antwortzeiten

#### **OpenAI GPT-3.5-turbo** 💰 AM GÜNSTIGSTEN
- Input: **$0.50** pro 1M Tokens
- Output: **$1.50** pro 1M Tokens
- **Durchschnitt:** ~$1.00 pro 1M Tokens
- ✅ **6x GÜNSTIGER als GPT-4o**
- ✅ Gut für einfache Konversationen
- ⚠️ Weniger intelligent als GPT-4o-mini

#### **Anthropic Claude Haiku 3.5**
- Input: **$0.80** pro 1M Tokens
- Output: **$4.00** pro 1M Tokens
- **Durchschnitt:** ~$2.40 pro 1M Tokens
- ✅ **3.7x GÜNSTIGER als Claude Sonnet**
- ✅ Sehr schnell
- ✅ Gut für einfache Aufgaben

#### **Perplexity Sonar** (Kostenlos für Basisnutzung)
- Input: **$0.20** pro 1M Tokens
- Output: **$0.20** pro 1M Tokens
- **Durchschnitt:** ~$0.20 pro 1M Tokens
- ✅ **45x GÜNSTIGER als Sonar Pro**
- ✅ Gut für Research
- ⚠️ Limitierte Features vs Pro

---

## 📈 KONKRETE KOSTENBEISPIELE

### **Beispiel: 100 Chat-Anfragen (je ~2000 Tokens Input + Output)**

| Modell | Kosten pro Anfrage | 100 Anfragen | 1000 Anfragen |
|--------|-------------------|--------------|---------------|
| **GPT-4o** | $0.0125 | **$1.25** | **$12.50** |
| **GPT-4o-mini** ⭐ | $0.00076 | **$0.076** | **$0.76** |
| **GPT-3.5-turbo** 💰 | $0.002 | **$0.20** | **$2.00** |
| **Claude Sonnet 4.5** | $0.018 | **$1.80** | **$18.00** |
| **Claude Haiku 3.5** | $0.0048 | **$0.48** | **$4.80** |

### **💡 ERSPARNIS DURCH GPT-4o-mini:**
- Statt **$1.25** nur **$0.076** (100 Anfragen)
- **94% Kostenersparnis!**

---

## 🎯 EMPFOHLENE STRATEGIE

### **Option 1: Intelligente Model-Auswahl** ⭐ OPTIMAL

```
┌─────────────────────────────────────────┐
│ Aufgabentyp          │ Empfohlenes Modell│
├──────────────────────┼──────────────────┤
│ Einfache Chats       │ GPT-4o-mini      │
│ Code-Generierung     │ GPT-4o-mini      │
│ Übersetzungen        │ GPT-3.5-turbo    │
│ Komplexe Analysen    │ GPT-4o           │
│ Research             │ Perplexity Sonar │
│ Kritische Aufgaben   │ Claude Sonnet    │
└─────────────────────────────────────────┘
```

**Durchschnittskosten:** ~$0.002 pro Anfrage (95% günstiger!)

### **Option 2: Standard auf GPT-4o-mini**
- Alle Anfragen standardmäßig mit GPT-4o-mini
- Nur bei Bedarf manuell zu GPT-4o wechseln
- **Ersparnis: 94%**

### **Option 3: GPT-3.5-turbo für alles**
- Maximum Kostenersparnis
- **Ersparnis: 84%**
- ⚠️ Qualitätsverlust bei komplexen Aufgaben

---

## 🚀 ZUSÄTZLICHE GÜNSTIGE ALTERNATIVEN

### **Google Gemini Models** (NICHT integriert)
- **Gemini 1.5 Flash**: $0.075 / $0.30 pro 1M Tokens
- **Gemini 1.5 Pro**: $1.25 / $5.00 pro 1M Tokens
- ✅ Sehr günstig
- ✅ Lange Context-Länge (1M Tokens!)
- ⚠️ Benötigt Integration

### **Meta Llama 3.1** (Via Groq oder Together AI)
- **Llama 3.1 8B**: $0.05 / $0.08 pro 1M Tokens
- **Llama 3.1 70B**: $0.59 / $0.79 pro 1M Tokens
- ✅ EXTREM GÜNSTIG
- ✅ Open Source
- ⚠️ Benötigt Integration

### **Mistral Models** (NICHT integriert)
- **Mistral 7B**: $0.25 / $0.25 pro 1M Tokens
- **Mistral Large**: $2.00 / $6.00 pro 1M Tokens
- ✅ Günstig
- ✅ Gute Qualität
- ⚠️ Benötigt Integration

---

## 📝 HINWEIS ZU CHATGPT

**"ChatGPT ist gar nicht integriert"** ✅ RICHTIG!

**ChatGPT vs OpenAI API:**
- **ChatGPT**: Web-Interface (chat.openai.com) - **NICHT** via API nutzbar
- **OpenAI API**: Programmatic access (GPT-4o, GPT-3.5, etc.) - **INTEGRIERT**

**Was Xionimus nutzt:**
- ✅ OpenAI **API** (GPT-4o, GPT-4.1, O1, O3)
- ❌ **NICHT** ChatGPT Web-Interface

**Wichtig:** Die OpenAI API verwendet die **gleichen Modelle** wie ChatGPT, aber über API-Zugriff!

---

## 💡 SOFORT-MASSNAHMEN ZUR KOSTENSENKUNG

### **1. GPT-4o-mini als Standard hinzufügen** ⭐ EMPFOHLEN
```python
# In ai_manager.py, Zeile 453-459
"openai": [
    "gpt-4o-mini",        # ⭐ NEU: 94% günstiger!
    "gpt-3.5-turbo",      # ⭐ NEU: 84% günstiger!
    "gpt-4o",
    "gpt-4.1",
    "o1",
    "o3"
]
```

**Ersparnis:** 94% bei gleicher Aufgabe!

### **2. Claude Haiku hinzufügen**
```python
"anthropic": [
    "claude-haiku-3.5",           # ⭐ NEU: 73% günstiger!
    "claude-sonnet-4-5-20250929"
]
```

**Ersparnis:** 73% bei Anthropic-Tasks!

### **3. Perplexity Sonar als Standard**
```python
"perplexity": [
    "sonar",                      # ⭐ Standard (günstig)
    "sonar-pro",
    "sonar-deep-research"
]
```

**Ersparnis:** 95% bei Research!

---

## 📊 ZUSAMMENFASSUNG

| Maßnahme | Kosten vorher | Kosten nachher | Ersparnis |
|----------|---------------|----------------|-----------|
| **GPT-4o → GPT-4o-mini** | $6.25/1M | $0.38/1M | **94%** ✅ |
| **Claude Sonnet → Haiku** | $9.00/1M | $2.40/1M | **73%** ✅ |
| **Sonar Pro → Sonar** | $9.00/1M | $0.20/1M | **98%** ✅ |

### **Gesamtpotenzial: 90-95% Kostenersparnis!**

---

## 🎯 NÄCHSTE SCHRITTE

1. ✅ **Sofort:** GPT-4o-mini und GPT-3.5-turbo hinzufügen
2. ✅ **Sofort:** Claude Haiku 3.5 hinzufügen
3. 🔄 **Optional:** Intelligente Model-Auswahl implementieren
4. 🔄 **Optional:** Google Gemini integrieren (noch günstiger!)
5. 🔄 **Optional:** Groq/Together AI für Llama (extrem günstig!)

---

**Möchten Sie, dass ich die günstigen Modelle jetzt sofort hinzufüge?**
